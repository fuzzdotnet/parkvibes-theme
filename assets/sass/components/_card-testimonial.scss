// ------------------------------------
// Components > Card Testimonial
// ------------------------------------

@use '../mixins/mq';
@use '../mixins/typography';

.c-testimonials {
  column-fill: balance;
  gap: var(--grid-gap);

  @include mq.mq($from: tablet) {
    column-count: 2;
  }
}

.c-card-testimonial {
  --color-text: var(--color-site-text);

  position: relative;
  display: flex;
  flex-direction: column;
  gap: var(--space-300);
  break-inside: avoid;
  padding: var(--space-400);
  padding-left: calc(var(--space-400) + var(--space-100));
  color: var(--color-site-text);
  border-radius: var(--border-radius-default);
  background: color-mix(in srgb, var(--color-site-text) 3%, var(--color-site-background));
  
  &:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: var(--space-100);
    height: 100%;
    background: linear-gradient(to bottom, 
      color-mix(in srgb, var(--ghost-accent-color) 50%, transparent),
      var(--ghost-accent-color)
    );
    border-radius: var(--border-radius-default) 0 0 var(--border-radius-default);
  }

  + .c-card-testimonial {
    margin-top: var(--grid-gap);
  }

  &__content {
    position: relative;
    quotes: "\201C" "\201D";
    @include typography.font($font-size: 150, $font-style: italic);
    padding-top: var(--space-300);
    
    &:before {
      content: open-quote;
      position: absolute;
      top: calc(-1 * var(--space-300));
      left: calc(-1 * var(--space-150));
      @include typography.font($font-size: 600, $font-weight: extra-bold);
      color: color-mix(in srgb, var(--ghost-accent-color) 20%, transparent);
    }
    
    > * + * {
      margin-top: var(--space-200);
    }
  }

  &__meta {
    display: flex;
    align-items: center;
    gap: var(--space-150);
  }

  &__figure {
    overflow: hidden;
    width: var(--space-800-fixed);
    height: var(--space-800-fixed);
    border-radius: var(--border-radius-circle);
    background-color: color-mix(in srgb, var(--color-site-text) 5%, transparent);
    box-shadow: 0 var(--space-100) var(--space-200) color-mix(in srgb, var(--color-site-text) 15%, transparent);
  }

  &__image {
    object-fit: cover;
    width: 100%;
    height: 100%;
  }

  &__author-name {
    @include typography.font($font-family: sans-serif, $font-size: 125, $font-weight: medium);
  }

  &__author-title {
    @include typography.font($font-size: 100);
  }
}